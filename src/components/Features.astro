---
const tabs = [
  {
    id: 1,
    label: "Simple Bookmarking",
    title: "Bookmark in one click",
    description:
      "Organize your bookmarks however you like. Our simple drag-and-drop interface gives you complete control over how you manage your favourite sites.",
  },
  {
    id: 2,
    label: "Speedy Searching",
    title: "Intelligent search",
    description:
      "Our powerful search feature will help you find saved sites in no time at all. No need to thrawl through all the bookmarks",
  },
  {
    id: 3,
    label: "Easy Sharing",
    title: "Share your bookmarks",
    description:
      "Easily share your bookmarks and collections with others. Create a shareable link that you can send at the click of a button.",
  },
];
---

<section class="w-full">
  <!-- Header -->
  <div class="mx-auto max-w-2xl px-6 text-center">
    <h2 class="text-2xl md:text-4xl font-bold">
      Features
    </h2>
    <p class="mt-4 text-gray-500">
      Our aim is to make it quick and easy for you to access your favourite
      websites. Your bookmarks sync between your devices so you can access them
      on the go.
    </p>
  </div>

  <!-- Tabs -->
  <div
    class="mx-auto mt-12 max-w-4xl px-6
           flex flex-col items-center md:flex-row
           border-b border-gray-200"
    id="feature-tabs"
  >
    {tabs.map((tab, i) => (
      <button
        class={`relative inline-flex justify-center py-4 text-md font-bold
                text-gray-500 hover:text-slate-900
                transition md:flex-1 md:text-sm md:font-medium
                ${i === 0 ? "text-slate-900" : ""}`}
        data-tab={tab.id}
      >
        {tab.label}
        {i === 0 && (
          <span
            class="absolute left-0 right-0 -bottom-px h-0.5  bg-red"
            data-indicator
          ></span>
        )}
      </button>
    ))}
  </div>

  <!-- Tab content -->
  <div class="mt-16" id="feature-content">
    {tabs.map((tab, i) => (
      <div
        class={`${i === 0 ? "block" : "hidden"} feature-panel`}
        data-panel={tab.id}
      >
        <div
          class="mx-auto max-w-7xl px-6
                 grid grid-cols-1 md:grid-cols-2
                 gap-16 items-center"
        >
        
        {/* illustration */}
        <div class="relative w-full md:w-1/2">

          {/* Shape wrapper */}
          <div class="absolute inset-0">
            <div
                class={`absolute -left-16 h-48 w-80 rounded-r-full bg-blue
                        md:h-80 md:w-150 md:-left-64
                        ${
                            tab.id === 1
                            ? "top-12 md:top-20"
                            : "top-24 md:top-30"
                        }`}
                ></div>
          </div>

            {/* Image */}
            <img
                src={`/illustration-features-tab-${tab.id}.svg`}
                alt={tab.title}
                class="relative z-10 mx-auto max-w-xs md:max-w-xl"
            />
        </div>

          <!-- Text -->
          <div class="text-center md:text-left">
            <h3 class="text-2xl font-bold">
              {tab.title}
            </h3>
            <p class="mt-4 text-gray-500 max-w-md mx-auto md:mx-0">
              {tab.description}
            </p>

            <a
              href="#"
              class="inline-block mt-6 rounded-md bg-blue px-6 py-3
                     text-sm font-semibold text-white
                     shadow-sm hover:shadow-md transition"
            >
              More Info
            </a>
          </div>
        </div>
      </div>
    ))}
  </div>

  <!-- Tabs logic -->
  <script>
    const tabs = document.querySelectorAll<HTMLButtonElement>('#feature-tabs button');
    const panels = document.querySelectorAll('.feature-panel');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const id = tab.dataset.tab;

        tabs.forEach(t => {
          t.classList.remove('text-slate-900');
          t.querySelector('[data-indicator]')?.remove();
        });

        panels.forEach(p => p.classList.add('hidden'));

        tab.classList.add('text-slate-900');
        tab.insertAdjacentHTML(
          'beforeend',
          '<span class="absolute left-0 right-0 -bottom-px h-0.5 bg-red" data-indicator></span>'
        );

        document.querySelector(`[data-panel="${id}"]`)?.classList.remove('hidden');
      });
    });
  </script>
</section>
